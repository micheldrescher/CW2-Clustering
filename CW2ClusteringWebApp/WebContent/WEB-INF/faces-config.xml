<?xml version="1.0" encoding="UTF-8"?>
<faces-config xmlns="http://xmlns.jcp.org/xml/ns/javaee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_2.xsd"
	version="2.2">
	<application>
		<resource-bundle>
			<base-name>uk.ac.ox.oerc.clustering.webapp.controller.messages</base-name>
			<var>msg</var>
		</resource-bundle>
	</application>

	<managed-bean>
		<description>A generic JPA entity manager factory factory to cache in the application.</description>
		<managed-bean-name>jpaFactory</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.persistence.jpa.EMFactory</managed-bean-class>
		<managed-bean-scope>application</managed-bean-scope>
		<managed-property>
			<property-name>persistenceUnit</property-name>
			<value>CW2ClusteringWebApp</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>analysisBean</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.webapp.controller.ClusterAnalysisBackingBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>responseService</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.service.ResponseService</property-class>
			<value>#{responseService}</value>
		</managed-property>
		<managed-property>
			<property-name>menuBean</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.controller.MenuBackingBean</property-class>
			<value>#{menuBean}</value>
		</managed-property>
		<managed-property>
			<property-name>analysisService</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.service.AnalysisService</property-class>
			<value>#{analysisService}</value>
		</managed-property>
		<managed-property>
			<property-name>clusterService</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.service.ClusterService</property-class>
			<value>#{clusterService}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>JPA-implementation of the ResponseService interface</description>
		<managed-bean-name>responseService</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.persistence.jpa.services.JPAResponseService</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>emFactory</property-name>
			<property-class>uk.ac.ox.oerc.clustering.persistence.jpa.EMFactory</property-class>
			<value>#{jpaFactory}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean handling main menu requests</description>
		<managed-bean-name>menuBean</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.webapp.controller.MenuBackingBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>Bean backing the OriginalData facelet</description>
		<managed-bean-name>viewDataBean</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.webapp.controller.ViewDataBackingBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>menuBean</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.controller.MenuBackingBean</property-class>
			<value>#{menuBean}</value>
		</managed-property>
		<managed-property>
			<property-name>responseService</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.service.ResponseService</property-class>
			<value>#{responseService}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Bean backing the manage date facelet</description>
		<managed-bean-name>manageDataBean</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.webapp.controller.ManageDataBackingBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>menuBean</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.controller.MenuBackingBean</property-class>
			<value>#{menuBean}</value>
		</managed-property>
		<managed-property>
			<property-name>responseService</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.service.ResponseService</property-class>
			<value>#{responseService}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>Backing beak for the AddScores page</description>
		<managed-bean-name>addScoresBean</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.webapp.controller.AddScoresBackingBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>menuBean</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.controller.MenuBackingBean</property-class>
			<value>#{menuBean}</value>
		</managed-property>
		<managed-property>
			<property-name>responseService</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.service.ResponseService</property-class>
			<value>#{responseService}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>A bean wrappong PCA as a service implementation</description>
		<managed-bean-name>analysisService</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.analysis.PCAService</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<description>A clusterer that implements Hierarchical clustering using Euclidian distances</description>
		<managed-bean-name>clusterService</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.analysis.HierarchicalClustererService</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
	</managed-bean>
	<managed-bean>
		<managed-bean-name>userService</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.persistence.jpa.services.JPAUserService</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>emFactory</property-name>
			<property-class>uk.ac.ox.oerc.clustering.persistence.jpa.EMFactory</property-class>
			<value>#{jpaFactory}</value>
		</managed-property>
	</managed-bean>
	<managed-bean>
		<description>login page support bean</description>
		<managed-bean-name>loginBean</managed-bean-name>
		<managed-bean-class>uk.ac.ox.oerc.clustering.webapp.controller.LoginBean</managed-bean-class>
		<managed-bean-scope>session</managed-bean-scope>
		<managed-property>
			<property-name>userService</property-name>
			<property-class>uk.ac.ox.oerc.clustering.webapp.service.UserService</property-class>
			<value>#{userService}</value>
		</managed-property>
	</managed-bean>
	<navigation-rule>
		<display-name>*</display-name>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>originalData</from-outcome>
			<to-view-id>/OriginalData.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>*</display-name>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>clusterAnalysis</from-outcome>
			<to-view-id>/ClusterAnalysis.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>*</display-name>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>addScores</from-outcome>
			<to-view-id>/AddScores.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>*</display-name>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>privacy</from-outcome>
			<to-view-id>/PrivacyPolicy.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>*</display-name>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>changelog</from-outcome>
			<to-view-id>/ChangeLog.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>*</display-name>
		<from-view-id>*</from-view-id>
		<navigation-case>
			<from-outcome>manageData</from-outcome>
			<to-view-id>/admin/ManageData.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
	<navigation-rule>
		<display-name>ClusterAnalysis.xhtml</display-name>
		<from-view-id>/ClusterAnalysis.xhtml</from-view-id>
		<navigation-case>
			<from-outcome>performAnalysis</from-outcome>
			<to-view-id>/ClusterAnalysis.xhtml</to-view-id>
			<redirect />
		</navigation-case>
	</navigation-rule>
   <navigation-rule>
		<display-name>*</display-name>
   		<from-view-id>*</from-view-id>
        <navigation-case>
            <from-outcome>logout</from-outcome>
            <to-view-id>/index.xhtml</to-view-id>
            <redirect/>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
		<display-name>*</display-name>
        <from-view-id>*</from-view-id>
        <navigation-case>
            <from-outcome>home</from-outcome>
            <to-view-id>/index.xhtml</to-view-id>
        </navigation-case>
    </navigation-rule>
    <navigation-rule>
    	<display-name>*</display-name>
    	<from-view-id>*</from-view-id>
    	<navigation-case>
    		<from-outcome>login</from-outcome>
    		<to-view-id>/Login.xhtml</to-view-id>
    		<redirect />
    	</navigation-case>
    </navigation-rule>
    <navigation-rule>
    	<display-name>admin/ManageData.xhtml</display-name>
    	<from-view-id>/admin/ManageData.xhtml</from-view-id>
    	<navigation-case>
    		<from-outcome>manageData</from-outcome>
    		<to-view-id>/admin/ManageData.xhtml</to-view-id>
    		<redirect />
    	</navigation-case>
    </navigation-rule>
</faces-config>
